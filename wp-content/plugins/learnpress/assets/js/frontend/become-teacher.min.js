const $=jQuery;$((function(){$('form[name="become-teacher-form"]').each((function(){const e=$(this),t=e.find('button[type="submit"]'),r=function(t){let r=[];if($.isPlainObject(t))for(const e in t)r.push($(t[e]));else r=$.isArray(t)?t.reverse():[t];for(let t=0;t<r.length;t++)$(r[t]).insertBefore(e)},a=function(t){return e.find("input, select, button, textarea").prop("disabled",!!t)},n=function(){$(".learn-press-error, .learn-press-message").fadeOut("fast",(function(){$(this).remove()})),a(!0).filter(t).data("origin-text",t.text()).html(t.data("text"))},s=function(n){(n=LP.parseJSON(n)).message&&r(n.message),a().filter(t).html(t.data("origin-text")),"success"===n.result?e.remove():(t.prop("disabled",!1),t.html(t.data("text")))},i=function(e){(e=LP.parseJSON(e)).message&&r(e.message),a().filter(t).html(t.data("origin-text"))};e.on("submit",(function(t){if(t.preventDefault(),!1!==e.triggerHandler("become_teacher_send")){const t=new URL(window.location.href);t.searchParams.set("lp-ajax","request-become-a-teacher"),$.ajax({url:t,data:e.serialize(),dataType:"text",type:"POST",beforeSend:n,success:s,error:i})}return!1}))}))}));